<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" name="viewport" content="initial-scale=1"/>
    <title>Zenithly</title>
    
    <script type="module" src="./src/renderer.js"></script>
    <script type="module" src="./src/scripts/calendar.js"></script>
    <script type="module" src="./src/scripts/3d.js"></script>
    <script type="module" src="./src/scripts/reminderPopup.js"></script>
    <script type="module" src="./src/scripts/nav.js"></script>

    <link href="./assets/css/main.css" type="text/css" rel="stylesheet" />
    <link href="./assets/css/fonts.css" type="text/css" rel="stylesheet" />
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200..1000;1,200..1000&family=Raleway:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
  </head>

  <body>
    <div class="nav" id="nav">
      <img src='./assets/images/zenithly.ico' alt='logo'/>
      <h1 class="raleway-regular" id="navTitle">Zenithly</h1>
    </div>

    <div class="reminderPopup">
      <h2 class="raleway-regular">Add a Reminder</h2>
      <input type="time" class="nunito-regular" id="reminderInput">
      <button class="nunito-regular" id="saveReminder">Save</button>
      <img class="reminderClose" src="/assets/images/close.png">
    </div>

    <div class="content">
      <div id="calendarBody" class="calendarBody">
        <!-- Calendar Navigation -->
        <div class="calendar-header nunito-regular">
          <button id="prev-month">&#8592;</button>
          <span id="month-year" class="nunito-regular"></span>
          <button id="next-month">&#8594;</button>
        </div>

        <!-- Calendar Table -->
        <table id="calendar" class="calendar">
          <thead>
            <tr>
              <th class="raleway-regular">Sun</th>
              <th class="raleway-regular">Mon</th>
              <th class="raleway-regular">Tue</th>
              <th class="raleway-regular">Wed</th>
              <th class="raleway-regular">Thu</th>
              <th class="raleway-regular">Fri</th>
              <th class="raleway-regular">Sat</th>
            </tr>
          </thead>
          <tbody id="calendar-body">
          </tbody>
        </table>
      </div>

      <div class="day-view slide" id="day-view">
        <h2 class="hidden raleway-regular" id="dayTitle"></h2>
        <div id="average-sleep"></div>
        <div class="add-reminder">+</div>
      </div>
    </div>

    <script type="module" src="./src/renderer.js"></script>
    <script type="module" src="./src/scripts/calendar.js"></script>
    <script type="module" src="./src/scripts/3d.js"></script>
    <script type="module" src="./src/scripts/sleep.js"></script>
    <script>
    import { getAverageSleep } from './src/scripts/sleep.js';

      function displayAverageSleep() {
        const average = getAverageSleep('../../data/sleepData.json');
        document.getElementById('average-sleep').textContent = `Average Sleep: ${average} hours`;
      }
      
      displayAverageSleep();
      </script>
  </body>
</html>
